<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>National Voter Registration Portal</title>
    
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <div id="statusBar" class="status-bar">
        <span id="backendStatus">âšª Backend: Checking...</span>
        <span id="userStatus" style="display: none;">
            ðŸ‘¤ Logged In | <a href="#" id="logoutBtn" style="color: #fff; text-decoration: underline;">Logout</a>
        </span>
    </div>

    <header class="gov-header">
        <div class="container">
            <h1>ðŸ‡®ðŸ‡³ National Voter Registration Portal</h1>
            <p>Election Commission of India</p>
        </div>
    </header>

    <div class="container">

        <div id="auth-container" style="display: none;">

            <div id="login-view">
                <div class="auth-box">
                    <h2>Login to Account</h2>
                    <form id="loginForm" class="form">
                        <input type="email" id="loginEmail" placeholder="Email" required>
                        <input type="password" id="loginPassword" placeholder="Password" required>
                        <button type="submit">Login</button>
                    </form>
                    <div id="loginResponse" class="response"></div>
                    <p class="auth-toggle">
                        Don't have an account? <a href="#" id="show-signup">Sign Up</a>
                    </p>
                </div>
            </div>

            <div id="signup-view" style="display: none;">
                <div class="auth-box">
                    <h2>Create New Account</h2>
                    <div id="signup-phase-1">
                        <h3>Step 1: Verify Mobile Number</h3>
                        <form id="otpSendForm" class="form">
                            <div class="input-group">
                                <input type="tel" id="signupMobile" placeholder="Mobile (10 digits)" pattern="[0-9]{10}" required>
                                <button type="submit" id="sendOtpBtn">Send OTP</button>
                            </div>
                        </form>
                        <form id="otpVerifyForm" class="form" style="display: none; margin-top: 15px;">
                            <div class="input-group">
                                <input type="text" id="signupOtp" placeholder="Enter OTP" required>
                                <button type="submit">Verify OTP</button>
                            </div>
                        </form>
                        <div id="otpResponse" class="response"></div>
                    </div>
                    <div id="signup-phase-2" style="display: none; margin-top: 20px; border-top: 1px solid #eee; padding-top: 20px;">
                        <h3>Step 2: Account Details</h3>
                        <p class="success-text">âœ“ Mobile Verified: <span id="verifiedMobileDisplay"></span></p>
                        <form id="signupForm" class="form">
                            <input type="email" id="signupEmail" placeholder="Email Address" required>
                            <input type="password" id="signupPassword" placeholder="Set Password (min 6 chars)" minlength="6" required>
                            <button type="submit">Create Account</button>
                        </form>
                        <div id="signupResponse" class="response"></div>
                    </div>
                    <p class="auth-toggle">
                        Already have an account? <a href="#" id="show-login">Log In</a>
                    </p>
                </div>
            </div>
        </div>

        <div id="app-container" style="display: none;">
            
            <div class="tabs">
                <button class="tab active" id="register-tab-btn" onclick="showAppTab('register')">Register as Voter</button>
                <button class="tab" id="search-tab-btn" onclick="showAppTab('search')">Search Voter</button>
                <button class="tab" id="status-tab-btn" onclick="showAppTab('status')">Check Status</button>
            </div>

            <div id="register" class="tab-content active">
                <h2>Voter Registration</h2>
                <div id="registerContent">
                    <div id="aadhaarStep">
                        <h3>Step 1: Enter Aadhaar Number</h3>
                        <form id="aadhaarForm" class="form">
                            <input type="text" id="aadhaar" placeholder="Aadhaar Number (12 digits)" pattern="[0-9]{12}" maxlength="12" required>
                            <button type="submit">Fetch Details</button>
                        </form>
                        <div id="aadhaarResponse" class="response"></div>
                    </div>
                    <div id="registrationStep" style="display: none;">
                        <h3>Step 2: Complete Registration</h3>
                        <form id="registrationForm" class="form">
                            <input type="text" id="fullName" placeholder="Full Name" readonly>
                            <input type="text" id="fatherName" placeholder="Father's Name" required>
                            <input type="date" id="dob" readonly>
                            <input type="text" id="gender" placeholder="Gender" readonly>
                            <input type="email" id="email" placeholder="Email" readonly>
                            <input type="tel" id="mobile" placeholder="Mobile" readonly>
                            <textarea id="address" placeholder="Address" rows="2" readonly></textarea>
                            <input type="text" id="state" placeholder="State" required>
                            <input type="text" id="district" placeholder="District" required>
                            <button type="submit">Submit Application</button>
                            <button type="button" onclick="resetRegistration()">Back</button>
                        </form>
                        <div id="registrationResponse" class="response"></div>
                    </div>
                </div>
            </div>

            <div id="search" class="tab-content">
                <h2>Search Voter Information</h2>
                <form id="searchForm" class="form">
                    <input type="text" id="searchVoterId" placeholder="Enter Voter ID" required>
                    <button type="submit">Search</button>
                </form>
                <div id="searchResponse" class="response"></div>
            </div>

            <div id="status" class="tab-content">
                <h2>Check Application Status</h2>
                <div id="statusContent">
                    <p style="margin-bottom: 10px; color: #666; font-size: 0.9em;">Check the status of your submitted applications.</p>
                    <form id="statusForm" class="form">
                        <input type="text" id="applicationId" placeholder="Enter Application ID" required>
                        <button type="submit">Check Status</button>
                    </form>
                    <div id="statusResponse" class="response"></div>
                </div>
            </div>
        </div>

    </div>

    <script src="assets/js/api.js"></script>
    <script src="assets/js/ui.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>